<!DOCTYPE html>
<html>
<head>
    <title>ΝΕΟΣ ΛΟΓΑΡΙΑΣΜΟΣ</title>
</head>
<h2>ΝΕΟΣ ΛΟΓΑΡΙΑΣΜΟΣ</h2>
<body style="background-color:powderblue;">

<label for="fname">ΟΝΟΜΑ:</label>
<input type="text" id="fname" name="fname"><br><br>
<label for="lname">ΕΠΩΝΥΜΟ:</label>
<input type="text" id="lname" name="lname"><br><br>
<label for="adt">ΑΔΤ:</label>
<input type="text" id="adt" name="adt"><br><br>
<label for="email">EMAIL:</label>
<input type="text" id="email" name="email"><br><br>
<label for="username">ΟΝΟΜΑ ΧΡΗΣΤΗ:</label>
<input type="text" id="username" name="username"><br><br>
<label for="password">ΚΩΔΙΚΟΣ:</label>
<input type="text" id="password" name="password"><br><br>



<input type="submit" id="butt" value="εγγραφη">



</body>
<script type="text/javascript">
    window.addEventListener('load',(event)=>{
        document.getElementById('butt').addEventListener('click',(event)=>{
            const user = {
                'name':document.getElementById('fname').value,
                'lastName':document.getElementById('lname').value,
                'adt':document.getElementById('adt').value,
                'email':document.getElementById('email').value,
                'username':document.getElementById('username').value,
                'password':document.getElementById('password').value,

            };


            const xhr = new XMLHttpRequest();
            xhr.open('POST','http://localhost:8080/register', true);


            xhr.setRequestHeader('Content-Type' , 'application/json' );
            xhr.send(JSON.stringify(user));
            xhr.onreadystatechange = function (){

                if(xhr.status == 200){
                    alert('OK');

                }
            };
        });
    });
</script>
</html>